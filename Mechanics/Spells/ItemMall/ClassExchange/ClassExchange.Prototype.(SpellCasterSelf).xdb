<?xml version="1.0" encoding="UTF-8" ?>
<gameMechanics.constructor.schemes.spell.casterSelf.SpellCasterSelf>
	<Header>
		<resourceId>181101</resourceId>
		<isPrototype>true</isPrototype>
	</Header>
	<Name href="ClassExchange.(SpellCasterSelf).Name.txt" />
	<prepareDuration>10000</prepareDuration>
	<targetType>STTSelf</targetType>
	<mechanics type="gameMechanics.constructor.schemes.spell.SpellMechanics">
		<casterConditions>
			<Item type="gameMechanics.elements.predicates.PredicateNotInCombat" />
			<Item type="gameMechanics.constructor.basicElements.PredicateNot">
				<predicate type="gameMechanics.elements.predicates.PredicateCharacterClass">
					<characterClass hrefvar="targetClass" />
				</predicate>
			</Item>
		</casterConditions>
		<casterResources>
			<Item type="gameMechanics.elements.resources.ResourceActiveItem" />
		</casterResources>
		<casterImpacts>
			<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
				<predicates>
					<Item type="gameMechanics.elements.predicates.PredicateUnlock">
						<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_NBalance_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
					</Item>
				</predicates>
				<impacts>
					<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
						<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_NBalance_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
					</Item>
					<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
						<unlock hrefvar="classSpellUnlock1" />
					</Item>
				</impacts>
				<elseImpacts>
					<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
						<predicates>
							<Item type="gameMechanics.elements.predicates.PredicateUnlock">
								<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Sanctuary_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
							</Item>
						</predicates>
						<impacts>
							<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
								<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Sanctuary_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
							</Item>
							<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
								<unlock hrefvar="classSpellUnlock1" />
							</Item>
						</impacts>
						<elseImpacts>
							<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
								<predicates>
									<Item type="gameMechanics.elements.predicates.PredicateUnlock">
										<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Antidote_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
									</Item>
								</predicates>
								<impacts>
									<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
										<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Antidote_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
									</Item>
									<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
										<unlock hrefvar="classSpellUnlock1" />
									</Item>
								</impacts>
								<elseImpacts>
									<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
										<predicates>
											<Item type="gameMechanics.elements.predicates.PredicateUnlock">
												<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Courage_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
											</Item>
										</predicates>
										<impacts>
											<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
												<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Courage_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
											</Item>
											<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
												<unlock hrefvar="classSpellUnlock1" />
											</Item>
										</impacts>
										<elseImpacts>
											<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
												<predicates>
													<Item type="gameMechanics.elements.predicates.PredicateUnlock">
														<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Miracle_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
													</Item>
												</predicates>
												<impacts>
													<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
														<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Miracle_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
													</Item>
													<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
														<unlock hrefvar="classSpellUnlock1" />
													</Item>
												</impacts>
												<elseImpacts>
													<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
														<predicates>
															<Item type="gameMechanics.elements.predicates.PredicateUnlock">
																<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Ability01_PAura_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
															</Item>
														</predicates>
														<impacts>
															<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
																<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Ability01_PAura_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
															</Item>
															<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
																<unlock hrefvar="classSpellUnlock1" />
															</Item>
														</impacts>
														<elseImpacts>
															<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
																<predicates>
																	<Item type="gameMechanics.elements.predicates.PredicateUnlock">
																		<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_EEnchant_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
																	</Item>
																</predicates>
																<impacts>
																	<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
																		<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_EEnchant_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
																	</Item>
																	<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
																		<unlock hrefvar="classSpellUnlock1" />
																	</Item>
																</impacts>
																<elseImpacts>
																	<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
																		<predicates>
																			<Item type="gameMechanics.elements.predicates.PredicateUnlock">
																				<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Entrapment_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
																			</Item>
																		</predicates>
																		<impacts>
																			<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
																				<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Entrapment_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
																			</Item>
																			<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
																				<unlock hrefvar="classSpellUnlock1" />
																			</Item>
																		</impacts>
																		<elseImpacts>
																			<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
																				<predicates>
																					<Item type="gameMechanics.elements.predicates.PredicateUnlock">
																						<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Virtue_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
																					</Item>
																				</predicates>
																				<impacts>
																					<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
																						<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Virtue_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
																					</Item>
																					<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
																						<unlock hrefvar="classSpellUnlock1" />
																					</Item>
																				</impacts>
																			</Item>
																		</elseImpacts>
																	</Item>		
																</elseImpacts>
															</Item>
														</elseImpacts>
													</Item>
												</elseImpacts>
											</Item>
										</elseImpacts>
									</Item>								
								</elseImpacts>
							</Item>
						</elseImpacts>
					</Item>
				</elseImpacts>
			</Item>
			<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
				<predicates>
					<Item type="gameMechanics.elements.predicates.PredicateUnlock">
						<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_VConcoction_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
					</Item>
				</predicates>
				<impacts>
					<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
						<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_VConcoction_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
					</Item>
					<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
						<unlock hrefvar="classSpellUnlock2" />
					</Item>
				</impacts>
				<elseImpacts>
					<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
						<predicates>
							<Item type="gameMechanics.elements.predicates.PredicateUnlock">
								<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Invisibility_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
							</Item>
						</predicates>
						<impacts>
							<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
								<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Invisibility_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
							</Item>
							<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
								<unlock hrefvar="classSpellUnlock2" />
							</Item>
						</impacts>
						<elseImpacts>
							<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
								<predicates>
									<Item type="gameMechanics.elements.predicates.PredicateUnlock">
										<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_FDeath_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
									</Item>
								</predicates>
								<impacts>
									<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
										<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_FDeath_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
									</Item>
									<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
										<unlock hrefvar="classSpellUnlock2" />
									</Item>
								</impacts>
								<elseImpacts>
									<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
										<predicates>
											<Item type="gameMechanics.elements.predicates.PredicateUnlock">
												<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Ability01_HAura_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
											</Item>
										</predicates>
										<impacts>
											<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
												<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Ability01_HAura_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
											</Item>
											<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
												<unlock hrefvar="classSpellUnlock2" />
											</Item>
										</impacts>
										<elseImpacts>
											<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
												<predicates>
													<Item type="gameMechanics.elements.predicates.PredicateUnlock">
														<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Exorcism_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
													</Item>
												</predicates>
												<impacts>
													<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
														<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Exorcism_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
													</Item>
													<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
														<unlock hrefvar="classSpellUnlock2" />
													</Item>
												</impacts>
												<elseImpacts>
													<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
														<predicates>
															<Item type="gameMechanics.elements.predicates.PredicateUnlock">
																<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_DSense_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
															</Item>
														</predicates>
														<impacts>
															<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
																<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_DSense_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
															</Item>
															<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
																<unlock hrefvar="classSpellUnlock2" />
															</Item>
														</impacts>
														<elseImpacts>
															<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
																<predicates>
																	<Item type="gameMechanics.elements.predicates.PredicateUnlock">
																		<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Escape_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
																	</Item>
																</predicates>
																<impacts>
																	<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
																		<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Escape_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
																	</Item>
																	<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
																		<unlock hrefvar="classSpellUnlock2" />
																	</Item>
																</impacts>
																<elseImpacts>
																	<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
																		<predicates>
																			<Item type="gameMechanics.elements.predicates.PredicateUnlock">
																				<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Retreat_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
																			</Item>
																		</predicates>
																		<impacts>
																			<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
																				<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Retreat_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
																			</Item>
																			<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
																				<unlock hrefvar="classSpellUnlock2" />
																			</Item>
																		</impacts>
																		<elseImpacts>
																			<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
																				<predicates>
																					<Item type="gameMechanics.elements.predicates.PredicateUnlock">
																						<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Allegro_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
																					</Item>
																				</predicates>
																				<impacts>
																					<Item type="gameMechanics.elements.impacts.ImpactRemoveUnlock">
																						<unlock href="/Mechanics/Unlocks/ImpactAvatarLearnSpell/Spell01_Allegro_Unlock.(UnlockResource).xdb#xpointer(/gameMechanics.constructor.schemes.unlock.UnlockResource)" />
																					</Item>
																					<Item type="gameMechanics.elements.impacts.ImpactGrantUnlock">
																						<unlock hrefvar="classSpellUnlock2" />
																					</Item>
																				</impacts>
																			</Item>
																		</elseImpacts>
																	</Item>		
																</elseImpacts>
															</Item>
														</elseImpacts>
													</Item>
												</elseImpacts>
											</Item>
										</elseImpacts>
									</Item>								
								</elseImpacts>
							</Item>
						</elseImpacts>
					</Item>
				</elseImpacts>
			</Item>
			<Item type="gameMechanics.elements.impacts.ImpactIfCaster">
				<predicates>
					<Item type="gameMechanics.elements.predicates.PredicateFaction">
						<faction href="/World/Factions/Empire.xdb#xpointer(/gameMechanics.world.creature.Faction)" />
					</Item>
				</predicates>
				<impacts>
					<Item type="gameMechanics.elements.impacts.ImpactChangeClass">
						<targetRaceClass hrefvar="leagueClassRace"/>
					</Item>
				</impacts>
				<elseImpacts>
					<Item type="gameMechanics.elements.impacts.ImpactChangeClass">
						<targetRaceClass hrefvar="empireClassRace"/>
					</Item>
				</elseImpacts>
			</Item>
		</casterImpacts>
	</mechanics>
</gameMechanics.constructor.schemes.spell.casterSelf.SpellCasterSelf>
